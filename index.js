!function(e){var t={};function r(a){if(t[a])return t[a].exports;var n=t[a]={i:a,l:!1,exports:{}};return e[a].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=t,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(a,n,function(t){return e[t]}.bind(null,n));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){r(2),e.exports=r(1)},function(e,t,r){},function(e,t,r){"use strict";r.r(t);var a=function e(t,r,a,n,c){var o=this;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.createCard=function(){var e=document.createElement("div");e.classList.add("flip-card");var t='<span class="material-icons">flip_camera_android</span>',r=document.createElement("div");r.classList.add("flip-card-front");var a=document.createElement("img");a.src=o.imgSrc;var n=document.createElement("p");n.textContent=o.text;var c=document.createElement("audio");c.src=o.audioSrc.replace("male","female");var i=document.createElement("button");i.classList.add("flip-card-btn"),i.innerHTML=t;var s=document.createElement("div");s.classList.add("flip-card-back");var d=document.createElement("p");d.textContent=o.textTranslate;var l=document.createElement("button");return l.classList.add("flip-card-btn"),l.innerHTML=t,r.append(a,n,c,i),s.append(d,l),e.append(r,s),e},this.createMainPageCard=function(){var e=document.createElement("div");e.classList.add("main-page-card");var t=document.createElement("div");t.classList.add("main-page-card-front");var r=document.createElement("img");r.classList.add("main-page-card-img"),r.src=o.imgSrc;var a=document.createElement("p");a.classList.add("main-page-card-text");var n=document.createElement("span");n.textContent="Category";var c=document.createElement("span");return c.textContent=o.text,a.append(n,c),t.append(r,a),e.append(t),e},this.text=t,this.imgSrc=r,this.audioSrc=a,this.textTranslate=n,this.cardWrapper=document.createElement("div"),this.cardWrapper.classList.add("flip-card-3D-wrapper"),a&&n){var i=this.createCard();this.cardWrapper.append(i)}else{var s=this.createMainPageCard();this.cardWrapper.append(s),this.cardWrapper.dataset.category=c}};function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var c=function e(t){var r=this,c=arguments.length>1&&void 0!==arguments[1]&&arguments[1];n(this,e),this.createCategoryCards=function(){r.cardsData.forEach((function(e){var t=r.createCategoryCard(e);r.categoryWrapper.append(t.cardWrapper)}))},this.createCategoryCard=function(e){var t=e.text,r=e.imgSrc,n=e.audioSrc,c=e.textTranslate;return new a(t,r,n,c)},this.createMainPageCards=function(){r.cardsData.forEach((function(e,t){var a=r.createMainPageCard(e,t);r.categoryWrapper.append(a.cardWrapper)}))},this.createMainPageCard=function(e,t){var r=e.text,n=e.imgSrc;return new a(r,n,null,null,t)},this.cardsData=9===t.length?t.slice(1):t,this.isMainPage=c,this.categoryWrapper=document.createElement("div"),this.categoryWrapper.classList.add("category-wrapper"),this.isMainPage?(this.createMainPageCards(),this.categoryWrapper.classList.add("category-main-page")):this.createCategoryCards()},o=function(e){var t,r,a,n,c=(t=0,r=e.length-1,a=r-t+1,n=Math.random()*a,Math.floor(n)+t),o=e[c];return e.splice(c,1),o},i={isFistStart:!0,error:0},s=function(){i.arrIndexAudio=null,i.randomAudio=null,i.randomText=null,i.error=0},d=function(){var e=document.getElementById("loader");e.scrollIntoView(),e.style.opacity=1,e.style.display="block",setTimeout((function(){e.style.opacity=0,setTimeout((function(){e.style.display="none"}),400)}),1600)},l=function(){var e,t;i.error?((t=document.getElementById("fail")).querySelector("audio").play(),t.querySelector("p").textContent="You made ".concat(i.error," errors"),t.style.opacity=1,t.style.display="flex",setTimeout((function(){t.style.opacity=0,setTimeout((function(){t.style.display="none"}),400)}),2600)):((e=document.getElementById("win")).querySelector("audio").play(),e.style.opacity=1,e.style.display="flex",setTimeout((function(){e.style.opacity=0,setTimeout((function(){e.style.display="none"}),400)}),2600))},u=function(){document.getElementById("menu_toggle").checked=!1},p=function(e){var t=document.querySelectorAll("#main_menu li a");t.forEach((function(e){return e.classList.remove("active")})),e?"A"===e.tagName?e.classList.add("active"):t.forEach((function(t){t.dataset.category===e&&t.classList.add("active")})):t[0].classList.add("active")},m=function(e){var t,r;r=(t=e).offsetLeft,t.clientLeft>r&&e.remove()},f=function(){var e=document.querySelectorAll(".category-wrapper .flip-card-front audio"),t=document.querySelectorAll(".category-wrapper .flip-card-front p");void 0!==i.arrIndexAudio&&null!==i.arrIndexAudio||(i.arrIndexAudio=function(e,t){for(var r=[],a=e;a<=t;a+=1)r.push(a);return r}(0,e.length-1));var r=o(i.arrIndexAudio);void 0!==r?(i.randomAudio=e[r],i.randomText=t[r].textContent):(l(),E(JSON.parse(localStorage.getItem("wordsData"))),p(),S(document.getElementById("change_play_mode").checked),s(),document.querySelector(".star-wrap").remove())},y=function(e){var t=document.querySelector(".category-wrapper");t.classList.add("start-game"),i.isFistStart&&(!function(e){for(var t=e.children.length;t>=0;t-=1)e.appendChild(e.children[Math.random()*t|0])}(t),i.isFistStart=!1,e.target.innerHTML='<span class="material-icons">rotate_left</span> Repeat',f()),setTimeout((function(){i.randomAudio.play()}),500)},g=function(e){var t;document.getElementById("correct_audio").play(),e.classList.add("correct"),(t=document.querySelector(".star-wrap")).innerHTML+='<span class="material-icons correct-star">star</span>',m(t.childNodes[0]),e.removeEventListener("click",y),f(),i.arrIndexAudio&&setTimeout((function(){i.randomAudio.play()}),1e3)},h=function(){var e;document.getElementById("error_audio").play(),(e=document.querySelector(".star-wrap")).innerHTML+='<span class="material-icons error-star">star_border</span>',m(e.childNodes[0]),i.error+=1},v=function(){var e=document.querySelector("main");if(e.querySelector(".category-wrapper").classList.contains("category-main-page"))e.querySelectorAll(".flip-card-3D-wrapper").forEach((function(e){return e.classList.add("play-category")}));else{e.append(function(){var e=document.createElement("div");e.classList.add("play-button-wrap");var t=document.createElement("button");return t.classList.add("play-button"),t.textContent="Start game",t.addEventListener("click",y),e.append(t),e}());var t=document.createElement("div");t.classList.add("star-wrap"),e.insertBefore(t,e.querySelector(".category-wrapper")),e.querySelectorAll(".flip-card").forEach((function(e){e.querySelector(".flip-card-front p").classList.add("hide"),e.querySelector(".flip-card-front .flip-card-btn").classList.add("hide"),e.querySelector(".flip-card-back").classList.add("hide"),e.classList.add("play-mode")}))}};function S(e){e?(i.isFistStart=!0,v()):document.querySelector(".category-wrapper").classList.contains("category-main-page")?document.querySelectorAll("main .flip-card-3D-wrapper").forEach((function(e){return e.classList.remove("play-category")})):(document.querySelector("main .play-button")&&document.querySelector("main .play-button-wrap").remove(),s(),document.querySelector(".category-wrapper").classList.contains("start-game")&&document.querySelector(".category-wrapper").classList.remove("start-game"),document.querySelectorAll("main .flip-card-3D-wrapper").forEach((function(e){e.querySelector(".flip-card-front p").classList.remove("hide"),e.querySelector(".flip-card-front .flip-card-btn").classList.remove("hide"),e.querySelector(".flip-card-back").classList.remove("hide"),e.querySelector(".flip-card").classList.remove("play-mode"),e.classList.remove("correct")})))}var L=function(e){var t=new c(e,!1).categoryWrapper;document.querySelector("main").innerHTML="",document.querySelector("main").append(t),t.childNodes.forEach((function(e){e.addEventListener("click",(function(e){var t;e.target.parentNode.classList.contains("flip-card-btn")?e.target.parentNode.parentNode.parentNode.classList.toggle("do-flip"):e.currentTarget.childNodes[0].classList.contains("play-mode")?e.currentTarget.parentNode.classList.contains("start-game")&&((t=e.currentTarget).classList.contains("correct")||(t.querySelector(".flip-card-front p").textContent===i.randomText?g(t):h())):e.currentTarget.querySelector("audio").play()})),e.addEventListener("mouseout",(function(e){e.fromElement.classList.contains("flip-card-back")&&e.relatedTarget.classList.contains("category-wrapper")&&e.fromElement.parentNode.classList.remove("do-flip")}))})),i.isFistStart=!0};function E(e){var t=e.map((function(e){return e[0]})),r=new c(t,!0).categoryWrapper;document.querySelector("main").innerHTML="",document.querySelector("main").append(r),r.childNodes.forEach((function(t){return t.addEventListener("click",(function(t){var r=document.getElementById("change_play_mode").checked,a=t.currentTarget.dataset.category;d(),L(e[a]),S(r),p(a)}))}))}var b;function w(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var x=(w(b={},"Professions",["accountant","baker","author","electrician","fisherman","doctor","hairdresser","judge"]),w(b,"Food",["pineapple","banana","pancake","jam","ham","grapes","mushroom","pear"]),w(b,"Clothes",["collar","hat","blouse","jeans","suit","footwear","glove","strap"]),w(b,"Appearance",["makeup","bald","beard","ear","mouth","moustache","tongue","waist"]),w(b,"Transport",["traffic lights","highway","bulldozer","truck","jeep","boat","raft","airplane"]),w(b,"Computer",["browser","CPU","flash drive","keyboard","laptop","motherboard","network","hard drive"]),w(b,"Furniture",["bath","rug","bookcase","mirror","curtain","sofa","door","armchair"]),w(b,"Animals",["shark","monkey","pigeon","viper","crow","sparrow","rabbit","frog"]),b),q=function(e){return fetch("https://dictionary.skyeng.ru/api/public/v1/words/search?search=".concat(e,"&page=1&pageSize=1")).then((function(e){return e.json()})).then((function(e){return{text:e[0].text,imgSrc:e[0].meanings[0].imageUrl,audioSrc:e[0].meanings[0].soundUrl,textTranslate:e[0].meanings[0].translation.text}}))};window.addEventListener("DOMContentLoaded",(function(){var e,t;(d(),localStorage.getItem("wordsData"))?E(JSON.parse(localStorage.getItem("wordsData"))):(e=Object.entries(x),t=[],e.forEach((function(e){t.push(q(e[0])),e[1].forEach((function(e){t.push(q(e))}))})),Promise.all(t).then((function(e){var t=function(e,t){var r=0,a=e.length,n=[];for(r=0;r<a;r+=t){var c=e.slice(r,r+t);n.push(c)}return n}(e,9);localStorage.setItem("wordsData",JSON.stringify(t)),E(t)})))})),document.getElementById("main_menu").addEventListener("click",(function(e){var t=JSON.parse(localStorage.getItem("wordsData")),r=document.getElementById("change_play_mode").checked,a=e.target.dataset,n=a.category,c=a.mainPage,o=a.statistics;(n||c||o)&&(d(),n?(L(t[n]),S(r)):c&&(E(t),S(r)),p(e.target),u())})),document.querySelector("nav").addEventListener("click",(function(e){"NAV"===e.target.tagName&&u()})),document.getElementById("change_play_mode").addEventListener("change",(function(e){document.querySelector(".category-main-page"),S(e.target.checked)}))}]);